### Overview 
1. Advanced Docker Concepts Lecture


#### What is Docker?  
1. ```docker run image ``` runs an image which is locally saved (cached) in your machine. If it can't find that image in your machine, it looks for one in Dockerhub, downloads to your machine, and spins up a container from that image.
2. ```Dockerhub``` is where people upload```image``` for everyone to use. 
3. An ```image``` is the perfect sandwich. ```images``` are created with a ```build``` command, they produce a ```container``` when started with ```run```. 
4. The clones of ```image``` or a perfect sandwich is the ```container```. You can spin up as many containers from an image as you want without affecting the perfect sandwich. 
5. ```docker run image```does two things: 
     - ```docker images``` downloads image from dockerhub if it doesn't exist in your local machine
     - ```docker ps -a``` displayes all the containers in your machine.
     - ```-a``` flag displays all the containers running and stopped, whereas ```docker ps -a``` only displays running containers. 
6. Spinning a brand new ```container``` with a brand new ```image```: ```docker run -d -p 80:80 --name webserver nginx```
     - ```docker run``` creates a new container from an image.
     - ```nginx``` the name of the image to spin into a container.
     -  ```--name webserver``` gives the container a unique name to indentify it
     -  ```-p 80:80``` connect port 80 on the host to port 80 on the container.
     -  ```d``` runs your container in a detached state, meaning it runs in the background.
7. ```docker stop webserver``` to stop a container called webserver.
8. ```docker start webserver``` to start a container called webserver.
9. ```docker rm webserver``` to remove a container. Note, container has to be stopped to be removed. ```docker rm conatinerx containery``` to remove multiple containers at once.
10. ```docker rm -f webserver``` to force a running container to be removed. 
11. ```docker run -d -p 80:80 -rm --name goodbye nginx``` builds a container called goodbye from image called nginx and when ```docker stop goodbye``` it gets removed on its own. 
12. ```docker rmi imagename``` to remove an image. Note, remove containers before removing images. 
13. ```docker images``` to see all the images in your machine. 
14. ```docker info``` to get a status report of all the images and containers in your machine. 

#### Containerize your app with Docker
1. Dockerfile is the receipe that image (aka perfect sandwich) uses. 
2. To build an image from scratch that could be spun into a container that runs node.js:  
      -  Build from Ubuntu image > 
      -  Update Ubuntu > 
      -  Install Node > 
      -  Add Working Directory > 
      -  Copy app into working Directory > 
      -  Install Dependencies
3. ```docker pull node:latest``` to see the latest node image. ```docker history image_name:latest``` to see the history of how that image was built. 
4. What is inside Dockerfile
     ###### What image do you want to start building on?
     ```FROM node:latest```

     ###### Make a folder in your image where your app's source code can live
     ```RUN mkdir -p /src/app```
     ```-p``` makes all the necessary parent folders automatically. 
     
     ###### Tell your container where your app's source code will live
     ```WORKDIR /src/app```
     
     ###### What source code do you what to copy, and where to put it?
     ```COPY . /src/app```
     ```.``` where to copy the app's souce code from.
     ```/src/app``` where the source code from our app is going to be copied to in the image. 
     ###### Does your app have any dependencies that should be installed?
     ```RUN npm install```

     ###### What port will the container talk to the outside world with once created?
     ```EXPOSE 3000```
     Exposes container's port 3000.
     
     ###### How do you start your app?
     ```CMD ["npm", "start"]```

5. ```docker build -t nodeserver```
      - ```docker build``` takes Dockerfile and creates and image using the info from inside
      - ```-t``` the t stands for tagged
      - ```.``` the relative path to the Dockerfile that we want to build into an image
6. Containers are stateless. 
7. ```docker run -d -p 1000:3000 --name slytherin_rulez --rm nodeserver``` to run the container on your localhost port 1000. 
      - ```rm``` flag deletes the container when you stop running the container. 
      
### Containerized Development with Volumes

1. Steps to containerization (?) 
     - Bundle your app into an image, give it a name ```colorserver```. 
          ```docker build -t colorserver .```
     - Spin up a new container based on ```colorserver``` image, map it to port 8080 on the host. 
          ```docker run -d -p 8080:8080 colorserver```
     - Open localhost:8080 to checkout the webpage. The color is steelblue for now. 
     - Since this is dev mode, Let's say you want to change the color to green, when you make the change, you want your container to also reflect that change, we do this using Volumes
     - Volumes allow containers tointeract with the host's filesystems. Useful in persisting data, and as a communication between otherwise isolated containers, and have our container reference rapidly changing source code on our host. 
     - Using ```-v``` option, you can mount a volume. ```-v``` takes two arguments. 
     - First argument i
